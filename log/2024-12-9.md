#### 2024-12-9

我发现和氏给的低端图像的图片中有部分是有噪声，并且这种噪声我们在之前预训练的方法中都是没有模拟出来的，并且我认为这个问题在于相机本身，第一张图是和氏眼科给的图片，有一些小的噪点，并且模糊，我们在图像退化的时候考虑到了模糊，但是在退化的时候没有考虑噪声的问题，更多的退化是针对与颜色和光照的扰动。

![103 RightEyeProcessed](D:\work\AI_Fundus\CLAHE\input\103 RightEyeProcessed.jpg)

第二张图（重点在天空部分，也有相似的噪声）是我在辨认图像噪声的时候，从CSDN上的一个博主那里看到的没有加噪的原图，但是实际上拍摄的时候已经有一些比较明显的噪点了，所以我认为这个应该是相机本身带来的问题，并且这个问题应该是导致我们之前使用退化的有监督训练的效果极差的问题（因为模型没见过这种退化）

![image-20241209192154544](C:\Users\10731\AppData\Roaming\Typora\typora-user-images\image-20241209192154544.png)

所以我想使用CycleGAN来对原来的图像退化进行补充，加上这种噪声，因为我还没有找到这种噪声到底是什么类型的，没有办法添加。

接下来的计划：

第一步：按照之前的方式（数据没丢的时候的）使用cycleGAN进行训练，但是现在更需要注重的是BtoA的部分，把BtoA的部分退化以后再进行光照的退化，来进一步丰富数据。（时间预估：2天，之前训练的时候大概是这个时间），再使用池化的方法减小图片的分辨率（2倍）

第二步：使用SR模型（例如，SwinIR)来对图像进行恢复，在恢复分辨率（×2)的情况下，对图像进行去噪和颜色调整。选择SwinIR的原因是，首先它开源，其次，它有提供预训练模型，我们在他们的预训练模型上面做微调应该会更快一些。

第三步：前面两步的部分，我认为更多的效果是应用在图像的噪声和颜色上的，再使用传统方法作为后处理部分，加强图像的对比度。

